
> codebase-cleanup-analyzer@1.0.0 test:unit
> vitest run --dir tests/unit


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Development/areadoaluno/codebase-cleanup[39m

[90mstderr[2m | tests/unit/engine/analysis-engine.test.ts[2m > [22m[2mAnalysisEngine[2m > [22m[2manalyze[2m > [22m[2mshould continue on error by default
[22m[39mError analyzing bad.ts: Failed to parse file: bad.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.ts[2m > [22m[2mAnalysisEngine[2m > [22m[2manalyze[2m > [22m[2mshould stop on error when continueOnError is false
[22m[39mError analyzing bad.ts: Failed to parse file: bad.ts

 [32mâœ“[39m tests/unit/analyzers/code-quality-analyzer.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 39071[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mDeeply Nested Conditionals Detection[2m > [22mshould detect deeply nested conditionals (>3 levels) [33m 8045[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mDeeply Nested Conditionals Detection[2m > [22mshould not flag conditionals at 3 levels or less [33m 3894[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mComplex Boolean Expressions Detection[2m > [22mshould detect complex boolean expressions (>3 operators) [33m 3070[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mComplex Boolean Expressions Detection[2m > [22mshould not flag simple boolean expressions [33m 3299[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mMultiple Returns Detection[2m > [22mshould detect multiple returns in complex functions [33m 2938[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mMultiple Returns Detection[2m > [22mshould not flag simple functions with few returns [33m 3388[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mDeeply Nested Loops Detection[2m > [22mshould detect deeply nested loops (>2 levels) [33m 2777[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mDeeply Nested Loops Detection[2m > [22mshould not flag loops at 2 levels or less [33m 2955[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mSwitch Fall-Through Detection[2m > [22mshould detect switch statements with fall-through [33m 2774[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mSwitch Fall-Through Detection[2m > [22mshould not flag switch statements with proper breaks [33m 2939[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mClean Code[2m > [22mshould not flag clean, well-written code [33m 2985[2mms[22m[39m
 [32mâœ“[39m tests/unit/analyzers/code-quality-analyzer.test.js [2m([22m[2m13 tests[22m[2m)[22m[33m 39101[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mDeeply Nested Conditionals Detection[2m > [22mshould detect deeply nested conditionals (>3 levels) [33m 8091[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mDeeply Nested Conditionals Detection[2m > [22mshould not flag conditionals at 3 levels or less [33m 3830[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mComplex Boolean Expressions Detection[2m > [22mshould detect complex boolean expressions (>3 operators) [33m 3087[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mComplex Boolean Expressions Detection[2m > [22mshould not flag simple boolean expressions [33m 3342[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mMultiple Returns Detection[2m > [22mshould detect multiple returns in complex functions [33m 2925[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mMultiple Returns Detection[2m > [22mshould not flag simple functions with few returns [33m 3365[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mDeeply Nested Loops Detection[2m > [22mshould detect deeply nested loops (>2 levels) [33m 2870[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mDeeply Nested Loops Detection[2m > [22mshould not flag loops at 2 levels or less [33m 2924[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mSwitch Fall-Through Detection[2m > [22mshould detect switch statements with fall-through [33m 2729[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mSwitch Fall-Through Detection[2m > [22mshould not flag switch statements with proper breaks [33m 2918[2mms[22m[39m
   [33m[2mâœ“[22m[39m CodeQualityAnalyzer[2m > [22mClean Code[2m > [22mshould not flag clean, well-written code [33m 3008[2mms[22m[39m
[90mstderr[2m | tests/unit/engine/analysis-engine.test.ts[2m > [22m[2mAnalysisEngine[2m > [22m[2manalyze[2m > [22m[2mshould handle analyzer errors gracefully
[22m[39mAnalyzer "MockAnalyzer" failed on file.ts: Analyzer failed

[90mstderr[2m | tests/unit/engine/analysis-engine.test.ts[2m > [22m[2mAnalysisEngine[2m > [22m[2merror tracking[2m > [22m[2mshould track error count
[22m[39mError analyzing bad1.ts: Failed to parse file: bad1.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.ts[2m > [22m[2mAnalysisEngine[2m > [22m[2merror tracking[2m > [22m[2mshould track error count
[22m[39mError analyzing bad2.ts: Failed to parse file: bad2.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.ts[2m > [22m[2mAnalysisEngine[2m > [22m[2merror tracking[2m > [22m[2mshould track parse errors
[22m[39mError analyzing bad.ts: Failed to parse file: bad.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.ts[2m > [22m[2mAnalysisEngine[2m > [22m[2merror tracking[2m > [22m[2mshould stop after maxErrors
[22m[39mError analyzing bad1.ts: Failed to parse file: bad1.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.ts[2m > [22m[2mAnalysisEngine[2m > [22m[2merror tracking[2m > [22m[2mshould stop after maxErrors
[22m[39mError analyzing bad2.ts: Failed to parse file: bad2.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.ts[2m > [22m[2mAnalysisEngine[2m > [22m[2mreset[2m > [22m[2mshould clear all cached data
[22m[39mError analyzing bad.ts: Failed to parse file: bad.ts

 [31mâ¯[39m tests/unit/analyzers/api-route-pattern-analyzer.test.ts [2m([22m[2m16 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 13993[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould detect POST route without validation [33m 1870[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould detect PUT route without validation [33m 1082[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould detect PATCH route without validation [33m 1086[2mms[22m[39m
[31m   [31mÃ—[31m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould detect multiple validation approaches in same file[39m[33m 799[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould not flag GET routes without validation [33m 774[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould not flag routes with Zod validation [33m 791[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Error Handling Detection (Requirement 4.3)[2m > [22mshould detect route without error handling [33m 691[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Error Handling Detection (Requirement 4.3)[2m > [22mshould detect inconsistent error response patterns [33m 795[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Error Handling Detection (Requirement 4.3)[2m > [22mshould not flag routes with try-catch blocks [33m 875[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Response Format Detection (Requirement 4.4)[2m > [22mshould detect multiple response formats in same file [33m 613[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Response Format Detection (Requirement 4.4)[2m > [22mshould detect missing response format [33m 954[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Response Format Detection (Requirement 4.4)[2m > [22mshould not flag consistent NextResponse.json usage [33m 707[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mDuplicate Middleware Detection (Requirement 4.5)[2m > [22mshould detect duplicate inline authentication logic [33m 677[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mDuplicate Middleware Detection (Requirement 4.5)[2m > [22mshould detect repeated middleware usage [33m 698[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mDuplicate Middleware Detection (Requirement 4.5)[2m > [22mshould detect duplicate authorization checks [33m 736[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mIntegration - Multiple Inconsistencies[2m > [22mshould detect all types of inconsistencies in a complex file [33m 826[2mms[22m[39m
 [31mâ¯[39m tests/unit/analyzers/api-route-pattern-analyzer.test.js [2m([22m[2m16 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 14159[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould detect POST route without validation [33m 2110[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould detect PUT route without validation [33m 1192[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould detect PATCH route without validation [33m 962[2mms[22m[39m
[31m   [31mÃ—[31m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould detect multiple validation approaches in same file[39m[33m 818[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould not flag GET routes without validation [33m 639[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould not flag routes with Zod validation [33m 799[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Error Handling Detection (Requirement 4.3)[2m > [22mshould detect route without error handling [33m 818[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Error Handling Detection (Requirement 4.3)[2m > [22mshould detect inconsistent error response patterns [33m 625[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Error Handling Detection (Requirement 4.3)[2m > [22mshould not flag routes with try-catch blocks [33m 892[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Response Format Detection (Requirement 4.4)[2m > [22mshould detect multiple response formats in same file [33m 597[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Response Format Detection (Requirement 4.4)[2m > [22mshould detect missing response format [33m 953[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Response Format Detection (Requirement 4.4)[2m > [22mshould not flag consistent NextResponse.json usage [33m 735[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mDuplicate Middleware Detection (Requirement 4.5)[2m > [22mshould detect duplicate inline authentication logic [33m 746[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mDuplicate Middleware Detection (Requirement 4.5)[2m > [22mshould detect repeated middleware usage [33m 631[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mDuplicate Middleware Detection (Requirement 4.5)[2m > [22mshould detect duplicate authorization checks [33m 725[2mms[22m[39m
   [33m[2mâœ“[22m[39m APIRoutePatternAnalyzer - Task 9.2[2m > [22mIntegration - Multiple Inconsistencies[2m > [22mshould detect all types of inconsistencies in a complex file [33m 900[2mms[22m[39m
[90mstdout[2m | tests/unit/scanner/file-scanner.test.js[2m > [22m[2mFileScannerImpl[2m > [22m[2mscanDirectory[2m > [22m[2mshould handle symbolic links to files
[22m[39mSkipping symlink test - symlinks not supported

[90mstdout[2m | tests/unit/scanner/file-scanner.test.js[2m > [22m[2mFileScannerImpl[2m > [22m[2mscanDirectory[2m > [22m[2mshould handle symbolic links to directories without infinite loops
[22m[39mSkipping symlink test - symlinks not supported

[90mstdout[2m | tests/unit/scanner/file-scanner.test.ts[2m > [22m[2mFileScannerImpl[2m > [22m[2mscanDirectory[2m > [22m[2mshould handle symbolic links to files
[22m[39mSkipping symlink test - symlinks not supported

[90mstdout[2m | tests/unit/scanner/file-scanner.test.ts[2m > [22m[2mFileScannerImpl[2m > [22m[2mscanDirectory[2m > [22m[2mshould handle symbolic links to directories without infinite loops
[22m[39mSkipping symlink test - symlinks not supported

[90mstdout[2m | tests/unit/scanner/file-scanner.test.js[2m > [22m[2mFileScannerImpl[2m > [22m[2medge cases[2m > [22m[2mshould handle circular symbolic links without infinite loops
[22m[39mSkipping circular symlink test - symlinks not supported

[90mstdout[2m | tests/unit/scanner/file-scanner.test.ts[2m > [22m[2mFileScannerImpl[2m > [22m[2medge cases[2m > [22m[2mshould handle circular symbolic links without infinite loops
[22m[39mSkipping circular symlink test - symlinks not supported

[90mstdout[2m | tests/unit/scanner/file-scanner.test.js[2m > [22m[2mFileScannerImpl[2m > [22m[2medge cases[2m > [22m[2mshould handle broken symbolic links gracefully
[22m[39mSkipping broken symlink test - symlinks not supported

 [31mâ¯[39m tests/unit/scanner/file-scanner.test.js [2m([22m[2m33 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1113[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould discover all files in a simple directory structure[32m 39[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould discover files in nested directories[32m 35[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould respect maxDepth option[32m 65[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould handle empty directories[32m 19[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould return empty array for non-existent directory[32m 16[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould handle symbolic links to files[32m 19[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould handle symbolic links to directories without infinite loops[32m 18[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould populate FileInfo fields correctly[32m 6[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfilterByPattern[2m > [22mshould filter files by include patterns[32m 17[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfilterByPattern[2m > [22mshould handle multiple include patterns[32m 12[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mexcludeByPattern[2m > [22mshould exclude files by exclude patterns[32m 11[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mexcludeByPattern[2m > [22mshould handle multiple exclude patterns[32m 19[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize React components correctly[32m 7[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize API routes correctly[32m 19[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize services correctly[32m 10[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize type definition files correctly[32m 9[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize utility files correctly[32m 7[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize middleware files correctly[32m 32[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize config files correctly[32m 31[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize test files correctly[32m 67[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize unknown files as other[32m 31[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle files with no extension[32m 28[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle deeply nested directory structures (10+ levels)[32m 132[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle files with special characters in names[32m 11[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle complex include/exclude pattern combinations[32m 55[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle circular symbolic links without infinite loops[32m 16[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle mixed file types in same directory[32m 25[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle empty nested directories[32m 26[2mms[22m[39m
[31m   [31mÃ—[31m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle maxDepth with deeply nested structures[39m[32m 233[2mms[22m[39m
[31m     â†’ expected [ { â€¦(6) }, { â€¦(6) }, { â€¦(6) }, â€¦(2) ] to have a length of 6 but got 5[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle patterns with wildcards correctly[32m 44[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle files with multiple dots in names[32m 17[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle very long file paths[32m 21[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle broken symbolic links gracefully[32m 9[2mms[22m[39m
[90mstdout[2m | tests/unit/scanner/file-scanner.test.ts[2m > [22m[2mFileScannerImpl[2m > [22m[2medge cases[2m > [22m[2mshould handle broken symbolic links gracefully
[22m[39mSkipping broken symlink test - symlinks not supported

 [31mâ¯[39m tests/unit/scanner/file-scanner.test.ts [2m([22m[2m33 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 953[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould discover all files in a simple directory structure[32m 33[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould discover files in nested directories[32m 25[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould respect maxDepth option[32m 19[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould handle empty directories[32m 8[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould return empty array for non-existent directory[32m 25[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould handle symbolic links to files[32m 42[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould handle symbolic links to directories without infinite loops[32m 65[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mscanDirectory[2m > [22mshould populate FileInfo fields correctly[32m 31[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfilterByPattern[2m > [22mshould filter files by include patterns[32m 76[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfilterByPattern[2m > [22mshould handle multiple include patterns[32m 46[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mexcludeByPattern[2m > [22mshould exclude files by exclude patterns[32m 18[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mexcludeByPattern[2m > [22mshould handle multiple exclude patterns[32m 23[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize React components correctly[32m 21[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize API routes correctly[32m 28[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize services correctly[32m 17[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize type definition files correctly[32m 13[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize utility files correctly[32m 12[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize middleware files correctly[32m 14[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize config files correctly[32m 11[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize test files correctly[32m 10[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22mfile categorization[2m > [22mshould categorize unknown files as other[32m 12[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle files with no extension[32m 11[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle deeply nested directory structures (10+ levels)[32m 127[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle files with special characters in names[32m 7[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle complex include/exclude pattern combinations[32m 26[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle circular symbolic links without infinite loops[32m 9[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle mixed file types in same directory[32m 14[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle empty nested directories[32m 14[2mms[22m[39m
[31m   [31mÃ—[31m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle maxDepth with deeply nested structures[39m[32m 138[2mms[22m[39m
[31m     â†’ expected [ { â€¦(6) }, { â€¦(6) }, { â€¦(6) }, â€¦(2) ] to have a length of 6 but got 5[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle patterns with wildcards correctly[32m 20[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle files with multiple dots in names[32m 9[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle very long file paths[32m 14[2mms[22m[39m
   [32mâœ“[39m FileScannerImpl[2m > [22medge cases[2m > [22mshould handle broken symbolic links gracefully[32m 5[2mms[22m[39m
 [31mâ¯[39m tests/unit/analyzers/component-pattern-analyzer.test.ts [2m([22m[2m51 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[33m 614[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould discover a simple function component[32m 52[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould discover a function component with props[32m 12[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould discover a function component with destructured props[32m 10[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould discover a function component using hooks[32m 30[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould discover an exported function component[32m 13[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould not discover lowercase functions as components[32m 3[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould not discover functions without JSX as components[32m 4[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Arrow Function Component Discovery[2m > [22mshould discover an arrow function component[32m 5[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Arrow Function Component Discovery[2m > [22mshould discover an arrow function component with implicit return[32m 4[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Arrow Function Component Discovery[2m > [22mshould discover an arrow function component with props[32m 5[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Arrow Function Component Discovery[2m > [22mshould discover an exported arrow function component[32m 7[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Arrow Function Component Discovery[2m > [22mshould discover an arrow function component using hooks[32m 12[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould discover a class component extending React.Component[32m 7[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould discover a class component extending Component[32m 3[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould discover a class component with state[32m 5[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould discover a class component with props[32m 6[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould discover a PureComponent[32m 3[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould not discover classes that do not extend React.Component[32m 2[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Multiple Components Discovery[2m > [22mshould discover multiple components in the same file[32m 8[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Multiple Components Discovery[2m > [22mshould categorize components by type[32m 10[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Component Filtering[2m > [22mshould filter exported components[32m 31[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Component Filtering[2m > [22mshould filter components using hooks[32m 10[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Component Filtering[2m > [22mshould filter components using state[32m 35[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: JSX Fragment Support[2m > [22mshould discover components returning fragments[32m 10[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: JSX Fragment Support[2m > [22mshould discover components returning React.Fragment[32m 10[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Custom Hooks Detection[2m > [22mshould recognize components using custom hooks[32m 6[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Custom Hooks Detection[2m > [22mshould not confuse custom hooks with components[32m 12[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Edge Cases[2m > [22mshould handle components with TypeScript types[32m 6[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Edge Cases[2m > [22mshould handle components with generic types[32m 3[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Edge Cases[2m > [22mshould handle empty files[32m 1[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Edge Cases[2m > [22mshould handle files with only imports[32m 3[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mSupported File Types[2m > [22mshould support component file category[32m 1[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould detect prop drilling exceeding 3 levels[32m 8[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould not flag prop drilling at 3 levels or less[32m 22[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould detect prop drilling with destructured props[32m 15[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould detect prop drilling with props object[32m 6[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould provide helpful recommendations for prop drilling[32m 7[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould handle components with spread props[32m 5[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould not flag components that do not pass props down[32m 5[2mms[22m[39m
[31m   [31mÃ—[31m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould handle arrow function components in prop drilling detection[39m[32m 29[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent prop patterns (destructuring vs object)[32m 18[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent export patterns[32m 12[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent component definition styles[32m 31[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent event handler naming[32m 37[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.3: Component Pattern Inconsistency Detection[2m > [22mshould not flag inconsistencies when patterns are consistent[32m 8[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould detect duplicate validation logic[32m 11[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould detect duplicate useEffect patterns[32m 15[2mms[22m[39m
[31m   [31mÃ—[31m ComponentPatternAnalyzer[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould detect duplicate data transformations[39m[32m 15[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
[31m   [31mÃ—[31m ComponentPatternAnalyzer[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould detect similar component structures[39m[32m 13[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
[31m   [31mÃ—[31m ComponentPatternAnalyzer[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould provide helpful recommendations for duplicate logic[39m[32m 4[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould not flag unique component logic as duplicate[32m 4[2mms[22m[39m
 [31mâ¯[39m tests/unit/analyzers/database-pattern-analyzer.test.ts [2m([22m[2m98 tests[22m[2m | [22m[31m11 failed[39m[2m)[22m[33m 790[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect createClient pattern[32m 38[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect inconsistent client instantiation patterns[32m 11[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect createServerClient pattern[32m 11[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect createBrowserClient pattern[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect multiple different Supabase client patterns[32m 8[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect database client variable declarations[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect supabase.from() operations[32m 10[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect supabase.auth operations[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect supabase.storage operations[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect supabase.rpc operations[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould provide appropriate recommendations for inconsistent patterns[32m 9[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould handle files with no database operations[32m 10[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould only analyze supported file types[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould track multiple patterns across analysis[32m 11[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect generic database client names[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould handle complex client initialization[32m 8[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect middleware client pattern[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mError Handling Detection[2m > [22mshould track operations with error destructuring[32m 9[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mError Handling Detection[2m > [22mshould track operations in try-catch blocks[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mAnalyzer Metadata[2m > [22mshould have correct analyzer name[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mAnalyzer Metadata[2m > [22mshould create issues with proper metadata[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect missing error handling in database operations[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould not flag operations with proper error destructuring[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould not flag operations in try-catch blocks[32m 64[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect inconsistent error handling across multiple operations[39m[32m 58[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect missing error handling in insert operations[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect missing error handling in update operations[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect missing error handling in delete operations[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect missing error handling in auth operations[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould provide appropriate recommendations for missing error handling[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould detect any type usage in database operations[32m 3[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould detect inconsistent type definitions for same entity[39m[32m 4[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould detect manual type definitions that may conflict with Supabase types[32m 10[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould detect manual interface definitions that may conflict with Supabase types[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould not flag manual types when Supabase types are not imported[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould provide appropriate recommendations for type safety issues[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect direct database access in components[32m 9[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect potential SQL injection in RPC calls[32m 9[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect SQL injection with string concatenation[39m[32m 7[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect excessive database operations in API routes[32m 15[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould not flag API routes with few database operations[32m 8[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect multiple client creation method imports[32m 8[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould provide appropriate recommendations for architectural issues[32m 9[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mIntegration: Multiple Inconsistencies[2m > [22mshould detect multiple types of inconsistencies in same file[32m 29[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mIntegration: Multiple Inconsistencies[2m > [22mshould handle files with no issues[32m 42[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect simple pass-through function wrapper[32m 8[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect arrow function pass-through wrapper[39m[32m 7[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect pass-through wrapper with parameters[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect pass-through wrapper with multiple parameters[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with error handling[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with try-catch blocks[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with validation logic[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with data transformation[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with logging[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with multiple statements[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect wrapper that just calls another database function[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect function expression pass-through wrapper[32m 8[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould provide actionable recommendations for unnecessary adapters[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag non-database functions[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect pass-through with await[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould handle complex database operation calls[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect wrapper with database-related name[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions that add business logic[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould handle edge case of empty function body[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect multiple unnecessary adapters in same file[32m 12[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Client Instantiation (Requirement 3.1)[2m > [22mshould handle nested client creation in functions[32m 8[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Client Instantiation (Requirement 3.1)[2m > [22mshould detect client creation in class constructors[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Client Instantiation (Requirement 3.1)[2m > [22mshould handle client creation with environment variables[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Client Instantiation (Requirement 3.1)[2m > [22mshould detect client creation with options object[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Client Instantiation (Requirement 3.1)[2m > [22mshould detect mixed client creation patterns in same file[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect missing error handling in chained operations[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect error destructuring without checking[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect missing error handling in storage operations[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect missing error handling in RPC calls[32m 2[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect inconsistent error handling patterns in same function[39m[32m 11[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect missing error handling in upsert operations[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould detect adapter that only adds async/await[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould detect adapter with only parameter renaming[32m 9[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould detect database wrapper that just changes function name[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould NOT flag adapter with caching logic[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould NOT flag adapter with retry logic[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould NOT flag adapter with permission checks[32m 4[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect any type in destructured database results[39m[32m 3[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect inconsistent entity type names[39m[32m 6[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect manual type that duplicates Supabase generated type[32m 4[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect type assertion to any[39m[32m 3[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect missing type annotations on database operations[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect database access in React hooks[32m 6[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect SQL injection with template literal in RPC[39m[32m 4[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect bypassing service layer in API route[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect importing multiple client types unnecessarily[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect database access in client component[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mReal-World Anti-Pattern Examples[2m > [22mshould detect all issues in a poorly written database service[32m 9[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mReal-World Anti-Pattern Examples[2m > [22mshould detect common Next.js App Router anti-patterns[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mReal-World Anti-Pattern Examples[2m > [22mshould detect anti-patterns in authentication code[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mReal-World Anti-Pattern Examples[2m > [22mshould detect anti-patterns in file upload code[32m 5[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mComprehensive Integration Tests[2m > [22mshould handle a well-written database service with no issues[39m[32m 26[2mms[22m[39m
[31m     â†’ expected 1 to be +0 // Object.is equality[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mComprehensive Integration Tests[2m > [22mshould provide comprehensive analysis for mixed quality code[39m[32m 7[2mms[22m[39m
[31m     â†’ expected false to be true // Object.is equality[39m
 [31mâ¯[39m tests/unit/analyzers/component-pattern-analyzer.test.js [2m([22m[2m51 tests[22m[2m | [22m[31m13 failed[39m[2m)[22m[33m 444[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould discover a simple function component[32m 43[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould discover a function component with props[32m 15[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould discover a function component with destructured props[32m 14[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould discover a function component using hooks[32m 22[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould discover an exported function component[32m 6[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould not discover lowercase functions as components[32m 3[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Function Component Discovery[2m > [22mshould not discover functions without JSX as components[32m 7[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Arrow Function Component Discovery[2m > [22mshould discover an arrow function component[32m 12[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Arrow Function Component Discovery[2m > [22mshould discover an arrow function component with implicit return[32m 5[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Arrow Function Component Discovery[2m > [22mshould discover an arrow function component with props[32m 6[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Arrow Function Component Discovery[2m > [22mshould discover an exported arrow function component[32m 5[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Arrow Function Component Discovery[2m > [22mshould discover an arrow function component using hooks[32m 7[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould discover a class component extending React.Component[32m 7[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould discover a class component extending Component[32m 6[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould discover a class component with state[32m 7[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould discover a class component with props[32m 5[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould discover a PureComponent[32m 4[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Class Component Discovery[2m > [22mshould not discover classes that do not extend React.Component[32m 3[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Multiple Components Discovery[2m > [22mshould discover multiple components in the same file[32m 7[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Multiple Components Discovery[2m > [22mshould categorize components by type[32m 13[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Component Filtering[2m > [22mshould filter exported components[32m 7[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Component Filtering[2m > [22mshould filter components using hooks[32m 7[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Component Filtering[2m > [22mshould filter components using state[32m 15[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: JSX Fragment Support[2m > [22mshould discover components returning fragments[32m 12[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: JSX Fragment Support[2m > [22mshould discover components returning React.Fragment[32m 3[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Custom Hooks Detection[2m > [22mshould recognize components using custom hooks[32m 5[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Custom Hooks Detection[2m > [22mshould not confuse custom hooks with components[32m 18[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Edge Cases[2m > [22mshould handle components with TypeScript types[32m 13[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Edge Cases[2m > [22mshould handle components with generic types[32m 11[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Edge Cases[2m > [22mshould handle empty files[32m 6[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.1: Edge Cases[2m > [22mshould handle files with only imports[32m 3[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mSupported File Types[2m > [22mshould support component file category[32m 1[2mms[22m[39m
[31m   [31mÃ—[31m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould detect prop drilling exceeding 3 levels[39m[32m 57[2mms[22m[39m
[31m     â†’ expected 'Prop drilling detected: prop \'data\'â€¦' to contain 'prop drilling'[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould not flag prop drilling at 3 levels or less[32m 9[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould detect prop drilling with destructured props[32m 24[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould detect prop drilling with props object[32m 5[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould provide helpful recommendations for prop drilling[32m 7[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould handle components with spread props[32m 9[2mms[22m[39m
   [32mâœ“[39m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould not flag components that do not pass props down[32m 6[2mms[22m[39m
[31m   [31mÃ—[31m ComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould handle arrow function components in prop drilling detection[39m[32m 5[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
[31m   [31mÃ—[31m Task 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent prop patterns (destructuring vs object)[39m[32m 3[2mms[22m[39m
[31m     â†’ parseCode is not defined[39m
[31m   [31mÃ—[31m Task 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent export patterns[39m[32m 1[2mms[22m[39m
[31m     â†’ parseCode is not defined[39m
[31m   [31mÃ—[31m Task 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent component definition styles[39m[32m 1[2mms[22m[39m
[31m     â†’ parseCode is not defined[39m
[31m   [31mÃ—[31m Task 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent event handler naming[39m[32m 1[2mms[22m[39m
[31m     â†’ parseCode is not defined[39m
[31m   [31mÃ—[31m Task 7.3: Component Pattern Inconsistency Detection[2m > [22mshould not flag inconsistencies when patterns are consistent[39m[32m 1[2mms[22m[39m
[31m     â†’ parseCode is not defined[39m
[31m   [31mÃ—[31m Task 7.3: Duplicate Component Logic Detection[2m > [22mshould detect duplicate validation logic[39m[32m 2[2mms[22m[39m
[31m     â†’ parseCode is not defined[39m
[31m   [31mÃ—[31m Task 7.3: Duplicate Component Logic Detection[2m > [22mshould detect duplicate useEffect patterns[39m[32m 1[2mms[22m[39m
[31m     â†’ parseCode is not defined[39m
[31m   [31mÃ—[31m Task 7.3: Duplicate Component Logic Detection[2m > [22mshould detect duplicate data transformations[39m[32m 1[2mms[22m[39m
[31m     â†’ parseCode is not defined[39m
[31m   [31mÃ—[31m Task 7.3: Duplicate Component Logic Detection[2m > [22mshould detect similar component structures[39m[32m 1[2mms[22m[39m
[31m     â†’ price is not defined[39m
[31m   [31mÃ—[31m Task 7.3: Duplicate Component Logic Detection[2m > [22mshould provide helpful recommendations for duplicate logic[39m[32m 1[2mms[22m[39m
[31m     â†’ parseCode is not defined[39m
[31m   [31mÃ—[31m Task 7.3: Duplicate Component Logic Detection[2m > [22mshould not flag unique component logic as duplicate[39m[32m 1[2mms[22m[39m
[31m     â†’ parseCode is not defined[39m
 [31mâ¯[39m tests/unit/analyzers/database-pattern-analyzer.test.js [2m([22m[2m98 tests[22m[2m | [22m[31m11 failed[39m[2m)[22m[33m 653[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect createClient pattern[32m 40[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect inconsistent client instantiation patterns[32m 8[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect createServerClient pattern[32m 12[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect createBrowserClient pattern[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect multiple different Supabase client patterns[32m 8[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect database client variable declarations[32m 11[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect supabase.from() operations[32m 8[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect supabase.auth operations[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect supabase.storage operations[32m 17[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect supabase.rpc operations[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould provide appropriate recommendations for inconsistent patterns[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould handle files with no database operations[32m 12[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould only analyze supported file types[32m 14[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould track multiple patterns across analysis[32m 10[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect generic database client names[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould handle complex client initialization[32m 15[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.1: Database Client Pattern Detection[2m > [22mshould detect middleware client pattern[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mError Handling Detection[2m > [22mshould track operations with error destructuring[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mError Handling Detection[2m > [22mshould track operations in try-catch blocks[32m 9[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mAnalyzer Metadata[2m > [22mshould have correct analyzer name[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mAnalyzer Metadata[2m > [22mshould create issues with proper metadata[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect missing error handling in database operations[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould not flag operations with proper error destructuring[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould not flag operations in try-catch blocks[32m 13[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect inconsistent error handling across multiple operations[39m[32m 23[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect missing error handling in insert operations[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect missing error handling in update operations[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect missing error handling in delete operations[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect missing error handling in auth operations[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould provide appropriate recommendations for missing error handling[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould detect any type usage in database operations[32m 4[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould detect inconsistent type definitions for same entity[39m[32m 7[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould detect manual type definitions that may conflict with Supabase types[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould detect manual interface definitions that may conflict with Supabase types[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould not flag manual types when Supabase types are not imported[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould provide appropriate recommendations for type safety issues[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect direct database access in components[32m 11[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect potential SQL injection in RPC calls[32m 5[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect SQL injection with string concatenation[39m[32m 4[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect excessive database operations in API routes[32m 15[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould not flag API routes with few database operations[32m 9[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect multiple client creation method imports[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould provide appropriate recommendations for architectural issues[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mIntegration: Multiple Inconsistencies[2m > [22mshould detect multiple types of inconsistencies in same file[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mIntegration: Multiple Inconsistencies[2m > [22mshould handle files with no issues[32m 10[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect simple pass-through function wrapper[32m 7[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect arrow function pass-through wrapper[39m[32m 17[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect pass-through wrapper with parameters[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect pass-through wrapper with multiple parameters[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with error handling[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with try-catch blocks[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with validation logic[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with data transformation[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with logging[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions with multiple statements[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect wrapper that just calls another database function[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect function expression pass-through wrapper[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould provide actionable recommendations for unnecessary adapters[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag non-database functions[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect pass-through with await[32m 9[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould handle complex database operation calls[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect wrapper with database-related name[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould NOT flag functions that add business logic[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould handle edge case of empty function body[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect multiple unnecessary adapters in same file[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Client Instantiation (Requirement 3.1)[2m > [22mshould handle nested client creation in functions[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Client Instantiation (Requirement 3.1)[2m > [22mshould detect client creation in class constructors[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Client Instantiation (Requirement 3.1)[2m > [22mshould handle client creation with environment variables[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Client Instantiation (Requirement 3.1)[2m > [22mshould detect client creation with options object[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Client Instantiation (Requirement 3.1)[2m > [22mshould detect mixed client creation patterns in same file[32m 3[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect missing error handling in chained operations[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect error destructuring without checking[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect missing error handling in storage operations[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect missing error handling in RPC calls[32m 2[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect inconsistent error handling patterns in same function[39m[32m 6[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect missing error handling in upsert operations[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould detect adapter that only adds async/await[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould detect adapter with only parameter renaming[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould detect database wrapper that just changes function name[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould NOT flag adapter with caching logic[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould NOT flag adapter with retry logic[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Unnecessary Adapters (Requirement 3.3)[2m > [22mshould NOT flag adapter with permission checks[32m 3[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect any type in destructured database results[39m[32m 4[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect inconsistent entity type names[39m[32m 3[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect manual type that duplicates Supabase generated type[32m 6[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect type assertion to any[39m[32m 3[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect missing type annotations on database operations[32m 2[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect database access in React hooks[32m 6[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect SQL injection with template literal in RPC[39m[32m 3[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect bypassing service layer in API route[32m 5[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect importing multiple client types unnecessarily[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect database access in client component[32m 7[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mReal-World Anti-Pattern Examples[2m > [22mshould detect all issues in a poorly written database service[32m 14[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mReal-World Anti-Pattern Examples[2m > [22mshould detect common Next.js App Router anti-patterns[32m 4[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mReal-World Anti-Pattern Examples[2m > [22mshould detect anti-patterns in authentication code[32m 6[2mms[22m[39m
   [32mâœ“[39m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mReal-World Anti-Pattern Examples[2m > [22mshould detect anti-patterns in file upload code[32m 9[2mms[22m[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mComprehensive Integration Tests[2m > [22mshould handle a well-written database service with no issues[39m[32m 26[2mms[22m[39m
[31m     â†’ expected 1 to be +0 // Object.is equality[39m
[31m   [31mÃ—[31m DatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mComprehensive Integration Tests[2m > [22mshould provide comprehensive analysis for mixed quality code[39m[32m 9[2mms[22m[39m
[31m     â†’ expected false to be true // Object.is equality[39m
 [31mâ¯[39m tests/unit/analyzers/service-pattern-analyzer.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[32m 227[2mms[22m[39m
   [32mâœ“[39m ServicePatternAnalyzer[2m > [22mBasic Functionality[2m > [22mshould have correct name and supported file types[32m 10[2mms[22m[39m
   [32mâœ“[39m ServicePatternAnalyzer[2m > [22mBasic Functionality[2m > [22mshould discover service modules[32m 33[2mms[22m[39m
[31m   [31mÃ—[31m ServicePatternAnalyzer[2m > [22mBasic Functionality[2m > [22mshould track service dependencies[39m[32m 109[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
[31m   [31mÃ—[31m ServicePatternAnalyzer[2m > [22mCircular Dependency Detection[2m > [22mshould detect simple circular dependency (A â†’ B â†’ A)[39m[32m 23[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
[31m   [31mÃ—[31m ServicePatternAnalyzer[2m > [22mCircular Dependency Detection[2m > [22mshould detect complex circular dependency (A â†’ B â†’ C â†’ A)[39m[32m 18[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m ServicePatternAnalyzer[2m > [22mCircular Dependency Detection[2m > [22mshould not report circular dependency when there is none[32m 12[2mms[22m[39m
   [32mâœ“[39m ServicePatternAnalyzer[2m > [22mIssue Detection[2m > [22mshould detect service with no exports[32m 11[2mms[22m[39m
[31m   [31mÃ—[31m ServicePatternAnalyzer[2m > [22mIssue Detection[2m > [22mshould detect excessive service dependencies[39m[32m 7[2mms[22m[39m
[31m     â†’ expected undefined to be defined[39m
 [31mâ¯[39m tests/unit/analyzers/service-pattern-analyzer.test.js [2m([22m[2m8 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[32m 176[2mms[22m[39m
   [32mâœ“[39m ServicePatternAnalyzer[2m > [22mBasic Functionality[2m > [22mshould have correct name and supported file types[32m 10[2mms[22m[39m
   [32mâœ“[39m ServicePatternAnalyzer[2m > [22mBasic Functionality[2m > [22mshould discover service modules[32m 41[2mms[22m[39m
[31m   [31mÃ—[31m ServicePatternAnalyzer[2m > [22mBasic Functionality[2m > [22mshould track service dependencies[39m[32m 69[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
[31m   [31mÃ—[31m ServicePatternAnalyzer[2m > [22mCircular Dependency Detection[2m > [22mshould detect simple circular dependency (A â†’ B â†’ A)[39m[32m 10[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
[31m   [31mÃ—[31m ServicePatternAnalyzer[2m > [22mCircular Dependency Detection[2m > [22mshould detect complex circular dependency (A â†’ B â†’ C â†’ A)[39m[32m 19[2mms[22m[39m
[31m     â†’ expected 0 to be greater than 0[39m
   [32mâœ“[39m ServicePatternAnalyzer[2m > [22mCircular Dependency Detection[2m > [22mshould not report circular dependency when there is none[32m 8[2mms[22m[39m
   [32mâœ“[39m ServicePatternAnalyzer[2m > [22mIssue Detection[2m > [22mshould detect service with no exports[32m 8[2mms[22m[39m
[31m   [31mÃ—[31m ServicePatternAnalyzer[2m > [22mIssue Detection[2m > [22mshould detect excessive service dependencies[39m[32m 6[2mms[22m[39m
[31m     â†’ expected undefined to be defined[39m
 [32mâœ“[39m tests/unit/classifier/issue-classifier.test.js [2m([22m[2m37 tests[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mâœ“[39m tests/unit/classifier/issue-classifier.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mâœ“[39m tests/unit/classifier/pattern-detection-enhancements.test.js [2m([22m[2m18 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m tests/unit/classifier/pattern-detection-enhancements.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m tests/unit/engine/analysis-engine.test.ts [2m([22m[2m28 tests[22m[2m)[22m[33m 70455[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mparseFile[2m > [22mshould parse a valid TypeScript file [33m 8077[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mparseFile[2m > [22mshould parse a valid JavaScript file [33m 3907[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mparseFile[2m > [22mshould handle files with syntax warnings gracefully [33m 3058[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould analyze files with no issues [33m 4424[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould analyze files and detect issues [33m 3789[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould only run analyzers that support the file type [33m 3829[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould call progress callback during analysis [33m 3774[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould continue on error by default [33m 2824[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould stop on error when continueOnError is false [33m 2739[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould handle analyzer errors gracefully [33m 3157[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mreset[2m > [22mshould clear performance metrics [33m 4552[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould track performance metrics for each file [33m 4272[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould calculate aggregated performance metrics [33m 3996[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould identify fastest and slowest files [33m 4699[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould include elapsed time and average in progress callback [33m 4660[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould log performance summary when logPerformance is enabled [33m 3979[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould not log performance when logPerformance is disabled [33m 4321[2mms[22m[39m
[90mstderr[2m | tests/unit/planner/cleanup-planner.test.ts[2m > [22m[2mCleanupPlanner[2m > [22m[2mgeneratePlan[2m > [22m[2mshould generate a complete cleanup plan from classified issues
[22m[39mCircular dependencies detected, some tasks may not be ordered correctly

 [32mâœ“[39m tests/unit/planner/cleanup-planner.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m tests/unit/types.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 16[2mms[22m[39m
[90mstderr[2m | tests/unit/planner/cleanup-planner.test.js[2m > [22m[2mCleanupPlanner[2m > [22m[2mgeneratePlan[2m > [22m[2mshould generate a complete cleanup plan from classified issues
[22m[39mCircular dependencies detected, some tasks may not be ordered correctly

 [32mâœ“[39m tests/unit/planner/cleanup-planner.test.js [2m([22m[2m13 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mâœ“[39m tests/unit/report-generator.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/unit/types.test.js [2m([22m[2m10 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m tests/unit/report-generator.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
[90mstderr[2m | tests/unit/engine/analysis-engine.test.js[2m > [22m[2mAnalysisEngine[2m > [22m[2manalyze[2m > [22m[2mshould continue on error by default
[22m[39mError analyzing bad.ts: Failed to parse file: bad.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.js[2m > [22m[2mAnalysisEngine[2m > [22m[2manalyze[2m > [22m[2mshould stop on error when continueOnError is false
[22m[39mError analyzing bad.ts: Failed to parse file: bad.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.js[2m > [22m[2mAnalysisEngine[2m > [22m[2manalyze[2m > [22m[2mshould handle analyzer errors gracefully
[22m[39mAnalyzer "MockAnalyzer" failed on file.ts: Analyzer failed

[90mstderr[2m | tests/unit/engine/analysis-engine.test.js[2m > [22m[2mAnalysisEngine[2m > [22m[2merror tracking[2m > [22m[2mshould track error count
[22m[39mError analyzing bad1.ts: Failed to parse file: bad1.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.js[2m > [22m[2mAnalysisEngine[2m > [22m[2merror tracking[2m > [22m[2mshould track error count
[22m[39mError analyzing bad2.ts: Failed to parse file: bad2.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.js[2m > [22m[2mAnalysisEngine[2m > [22m[2merror tracking[2m > [22m[2mshould track parse errors
[22m[39mError analyzing bad.ts: Failed to parse file: bad.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.js[2m > [22m[2mAnalysisEngine[2m > [22m[2merror tracking[2m > [22m[2mshould stop after maxErrors
[22m[39mError analyzing bad1.ts: Failed to parse file: bad1.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.js[2m > [22m[2mAnalysisEngine[2m > [22m[2merror tracking[2m > [22m[2mshould stop after maxErrors
[22m[39mError analyzing bad2.ts: Failed to parse file: bad2.ts

[90mstderr[2m | tests/unit/engine/analysis-engine.test.js[2m > [22m[2mAnalysisEngine[2m > [22m[2mreset[2m > [22m[2mshould clear all cached data
[22m[39mError analyzing bad.ts: Failed to parse file: bad.ts

 [32mâœ“[39m tests/unit/engine/analysis-engine.test.js [2m([22m[2m28 tests[22m[2m)[22m[33m 29589[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mparseFile[2m > [22mshould parse a valid TypeScript file [33m 6257[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mparseFile[2m > [22mshould parse a valid JavaScript file [33m 2300[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mparseFile[2m > [22mshould handle files with syntax warnings gracefully [33m 1503[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould analyze files with no issues [33m 1513[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould analyze files and detect issues [33m 1461[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould only run analyzers that support the file type [33m 1489[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould call progress callback during analysis [33m 1434[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould continue on error by default [33m 1262[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould stop on error when continueOnError is false [33m 1298[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22manalyze[2m > [22mshould handle analyzer errors gracefully [33m 1247[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mreset[2m > [22mshould clear performance metrics [33m 1722[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould track performance metrics for each file [33m 1410[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould calculate aggregated performance metrics [33m 1429[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould identify fastest and slowest files [33m 1510[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould include elapsed time and average in progress callback [33m 1525[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould log performance summary when logPerformance is enabled [33m 1074[2mms[22m[39m
   [33m[2mâœ“[22m[39m AnalysisEngine[2m > [22mperformance tracking[2m > [22mshould not log performance when logPerformance is disabled [33m 1099[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 51 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/api-route-pattern-analyzer.test.js[2m > [22mAPIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould detect multiple validation approaches in same file
[41m[1m FAIL [22m[49m tests/unit/analyzers/api-route-pattern-analyzer.test.ts[2m > [22mAPIRoutePatternAnalyzer - Task 9.2[2m > [22mInconsistent Request Validation Detection (Requirement 4.2)[2m > [22mshould detect multiple validation approaches in same file
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/api-route-pattern-analyzer.test.ts:[2m126:45[22m[39m
    [90m124| [39m      )[33m;[39m
    [90m125| [39m      
    [90m126| [39m      [34mexpect[39m(inconsistentValidation[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                            [31m^[39m
    [90m127| [39m      [34mexpect[39m(inconsistentValidation[[34m0[39m][33m.[39mseverity)[33m.[39m[34mtoBe[39m([32m'medium'[39m)[33m;[39m
    [90m128| [39m      expect(inconsistentValidation[0].tags).toContain('inconsistent-pâ€¦

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould detect prop drilling exceeding 3 levels
[31m[1mAssertionError[22m: expected 'Prop drilling detected: prop \'data\'â€¦' to contain 'prop drilling'[39m

Expected: [32m"prop drilling"[39m
Received: [31m"Prop drilling detected: prop 'data' is passed through 4 levels of components (GrandParent â†’ Parent â†’ Child â†’ GrandChild). This makes the code harder to maintain and understand."[39m

[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m660:49[22m[39m
    [90m658| [39m      [34mexpect[39m(propDrillingIssues[[34m0[39m][33m.[39mtype)[33m.[39m[34mtoBe[39m([32m'confusing-logic'[39m)[33m;[39m
    [90m659| [39m      [34mexpect[39m(propDrillingIssues[[34m0[39m][33m.[39mseverity)[33m.[39m[34mtoBe[39m([32m'medium'[39m)[33m;[39m
    [90m660| [39m      expect(propDrillingIssues[0].description.toLowerCase()).toContaiâ€¦
    [90m   | [39m                                                [31m^[39m
    [90m661| [39m    })[33m;[39m
    [90m662| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould handle arrow function components in prop drilling detection
[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.ts[2m > [22mComponentPatternAnalyzer[2m > [22mTask 7.2: Prop Drilling Detection[2m > [22mshould handle arrow function components in prop drilling detection
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m857:41[22m[39m
    [90m855| [39m      )[33m;[39m
    [90m856| [39m      
    [90m857| [39m      [34mexpect[39m(propDrillingIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                        [31m^[39m
    [90m858| [39m    })[33m;[39m
    [90m859| [39m  })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mTask 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent prop patterns (destructuring vs object)
[31m[1mReferenceError[22m: parseCode is not defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m880:19[22m[39m
    [90m878| [39m      `[39m[33m;[39m
    [90m879| [39m      [35mconst[39m ast [33m=[39m [34mparseCode[39m(code)[33m;[39m
    [90m880| [39m      const fileInfo = createFileInfo('components/InconsistentProps.tsâ€¦
    [90m   | [39m                  [31m^[39m
    [90m881| [39m      
    [90m882| [39m      [35mconst[39m issues [33m=[39m [35mawait[39m analyzer[33m.[39m[34manalyze[39m(fileInfo[33m,[39m ast)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mTask 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent export patterns
[31m[1mReferenceError[22m: parseCode is not defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m909:19[22m[39m
    [90m907| [39m      `[39m[33m;[39m
    [90m908| [39m      [35mconst[39m ast [33m=[39m [34mparseCode[39m(code)[33m;[39m
    [90m909| [39m      const fileInfo = createFileInfo('components/InconsistentExports.â€¦
    [90m   | [39m                  [31m^[39m
    [90m910| [39m      
    [90m911| [39m      [35mconst[39m issues [33m=[39m [35mawait[39m analyzer[33m.[39m[34manalyze[39m(fileInfo[33m,[39m ast)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mTask 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent component definition styles
[31m[1mReferenceError[22m: parseCode is not defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m936:19[22m[39m
    [90m934| [39m      `[39m[33m;[39m
    [90m935| [39m      [35mconst[39m ast [33m=[39m [34mparseCode[39m(code)[33m;[39m
    [90m936| [39m      const fileInfo = createFileInfo('components/InconsistentDefinitiâ€¦
    [90m   | [39m                  [31m^[39m
    [90m937| [39m      
    [90m938| [39m      [35mconst[39m issues [33m=[39m [35mawait[39m analyzer[33m.[39m[34manalyze[39m(fileInfo[33m,[39m ast)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mTask 7.3: Component Pattern Inconsistency Detection[2m > [22mshould detect inconsistent event handler naming
[31m[1mReferenceError[22m: parseCode is not defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m966:19[22m[39m
    [90m964| [39m      `[39m[33m;[39m
    [90m965| [39m      [35mconst[39m ast [33m=[39m [34mparseCode[39m(code)[33m;[39m
    [90m966| [39m      const fileInfo = createFileInfo('components/InconsistentHandlersâ€¦
    [90m   | [39m                  [31m^[39m
    [90m967| [39m      
    [90m968| [39m      [35mconst[39m issues [33m=[39m [35mawait[39m analyzer[33m.[39m[34manalyze[39m(fileInfo[33m,[39m ast)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mTask 7.3: Component Pattern Inconsistency Detection[2m > [22mshould not flag inconsistencies when patterns are consistent
[31m[1mReferenceError[22m: parseCode is not defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m992:19[22m[39m
    [90m990| [39m      `[39m[33m;[39m
    [90m991| [39m      [35mconst[39m ast [33m=[39m [34mparseCode[39m(code)[33m;[39m
    [90m992| [39m      const fileInfo = createFileInfo('components/ConsistentPatterns.tâ€¦
    [90m   | [39m                  [31m^[39m
    [90m993| [39m      
    [90m994| [39m      [35mconst[39m issues [33m=[39m [35mawait[39m analyzer[33m.[39m[34manalyze[39m(fileInfo[33m,[39m ast)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould detect duplicate validation logic
[31m[1mReferenceError[22m: parseCode is not defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m1029:19[22m[39m
    [90m1027| [39m      `[39m[33m;[39m
    [90m1028| [39m      [35mconst[39m ast [33m=[39m [34mparseCode[39m(code)[33m;[39m
    [90m1029| [39m      const fileInfo = createFileInfo('components/DuplicateValidation.â€¦
    [90m   | [39m                  [31m^[39m
    [90m1030| [39m      
    [90m1031| [39m      [35mconst[39m issues [33m=[39m [35mawait[39m analyzer[33m.[39m[34manalyze[39m(fileInfo[33m,[39m ast)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould detect duplicate useEffect patterns
[31m[1mReferenceError[22m: parseCode is not defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m1060:19[22m[39m
    [90m1058| [39m      `[39m[33m;[39m
    [90m1059| [39m      [35mconst[39m ast [33m=[39m [34mparseCode[39m(code)[33m;[39m
    [90m1060| [39m      const fileInfo = createFileInfo('components/DuplicateEffects.tsxâ€¦
    [90m   | [39m                  [31m^[39m
    [90m1061| [39m      
    [90m1062| [39m      [35mconst[39m issues [33m=[39m [35mawait[39m analyzer[33m.[39m[34manalyze[39m(fileInfo[33m,[39m ast)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould detect duplicate data transformations
[31m[1mReferenceError[22m: parseCode is not defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m1084:19[22m[39m
    [90m1082| [39m      `[39m[33m;[39m
    [90m1083| [39m      [35mconst[39m ast [33m=[39m [34mparseCode[39m(code)[33m;[39m
    [90m1084| [39m      const fileInfo = createFileInfo('components/DuplicateTransformatâ€¦
    [90m   | [39m                  [31m^[39m
    [90m1085| [39m      
    [90m1086| [39m      [35mconst[39m issues [33m=[39m [35mawait[39m analyzer[33m.[39m[34manalyze[39m(fileInfo[33m,[39m ast)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould detect similar component structures
[31m[1mReferenceError[22m: price is not defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m1127:20[22m[39m
    [90m1125| [39m              <h2>{title}</h2>
    [90m1126| [39m              <p>{'$'}{price}</p>
    [90m1127| [39m            </div>
    [90m   | [39m                   [31m^[39m
    [90m1128| [39m          );
    [90m1129| [39m        }

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould provide helpful recommendations for duplicate logic
[31m[1mReferenceError[22m: parseCode is not defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m1162:19[22m[39m
    [90m1160| [39m      `[39m[33m;[39m
    [90m1161| [39m      [35mconst[39m ast [33m=[39m [34mparseCode[39m(code)[33m;[39m
    [90m1162| [39m      [35mconst[39m fileInfo [33m=[39m [34mcreateFileInfo[39m([32m'components/DuplicateLogic.tsx'[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m1163| [39m      
    [90m1164| [39m      [35mconst[39m issues [33m=[39m [35mawait[39m analyzer[33m.[39m[34manalyze[39m(fileInfo[33m,[39m ast)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.js[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould not flag unique component logic as duplicate
[31m[1mReferenceError[22m: parseCode is not defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m1188:19[22m[39m
    [90m1186| [39m      `[39m[33m;[39m
    [90m1187| [39m      [35mconst[39m ast [33m=[39m [34mparseCode[39m(code)[33m;[39m
    [90m1188| [39m      [35mconst[39m fileInfo [33m=[39m [34mcreateFileInfo[39m([32m'components/UniqueLogic.tsx'[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m1189| [39m      
    [90m1190| [39m      [35mconst[39m issues [33m=[39m [35mawait[39m analyzer[33m.[39m[34manalyze[39m(fileInfo[33m,[39m ast)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.ts[2m > [22mComponentPatternAnalyzer[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould detect duplicate data transformations
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m1092:49[22m[39m
    [90m1090| [39m      )[33m;[39m
    [90m1091| [39m      
    [90m1092| [39m      [34mexpect[39m(transformDuplicationIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                                [31m^[39m
    [90m1093| [39m    })[33m;[39m
    [90m1094| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[15/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.ts[2m > [22mComponentPatternAnalyzer[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould detect similar component structures
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m1140:39[22m[39m
    [90m1138| [39m      )[33m;[39m
    [90m1139| [39m      
    [90m1140| [39m      [34mexpect[39m(similarityIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                      [31m^[39m
    [90m1141| [39m    })[33m;[39m
    [90m1142| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[16/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/component-pattern-analyzer.test.ts[2m > [22mComponentPatternAnalyzer[2m > [22mTask 7.3: Duplicate Component Logic Detection[2m > [22mshould provide helpful recommendations for duplicate logic
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/component-pattern-analyzer.test.ts:[2m1170:40[22m[39m
    [90m1168| [39m      )[33m;[39m
    [90m1169| [39m      
    [90m1170| [39m      [34mexpect[39m(duplicationIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                       [31m^[39m
    [90m1171| [39m      [34mexpect[39m(duplicationIssues[[34m0[39m][33m.[39mrecommendation)[33m.[39m[34mtoContain[39m([32m'Extract'[39m)[33m;[39m
    [90m1172| [39m      [34mexpect[39m(duplicationIssues[[34m0[39m][33m.[39mestimatedEffort)[33m.[39m[34mtoBeDefined[39m()[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[17/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.js[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect inconsistent error handling across multiple operations
[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.ts[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Error Handling Detection (Requirement 3.2)[2m > [22mshould detect inconsistent error handling across multiple operations
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/database-pattern-analyzer.test.ts:[2m488:43[22m[39m
    [90m486| [39m                   issue.description.includes('Inconsistent error handâ€¦
    [90m487| [39m        )[33m;[39m
    [90m488| [39m        [34mexpect[39m(inconsistentIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                          [31m^[39m
    [90m489| [39m        expect(inconsistentIssues[0].description).toContain('database â€¦
    [90m490| [39m      })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[18/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.js[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould detect inconsistent type definitions for same entity
[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.ts[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mInconsistent Type Usage Detection (Requirement 3.4)[2m > [22mshould detect inconsistent type definitions for same entity
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/database-pattern-analyzer.test.ts:[2m619:47[22m[39m
    [90m617| [39m                   issue.description.includes('Inconsistent type usageâ€¦
    [90m618| [39m        )[33m;[39m
    [90m619| [39m        [34mexpect[39m(inconsistentTypeIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                              [31m^[39m
    [90m620| [39m      })[33m;[39m
    [90m621| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[19/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.js[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect SQL injection with string concatenation
[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.ts[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.2: Database Inconsistency Detection[2m > [22mPattern Bypass Detection (Requirement 3.5)[2m > [22mshould detect SQL injection with string concatenation
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/database-pattern-analyzer.test.ts:[2m786:43[22m[39m
    [90m784| [39m                   issue[33m.[39mdescription[33m.[39m[34mincludes[39m([32m'SQL injection'[39m)
    [90m785| [39m        )[33m;[39m
    [90m786| [39m        [34mexpect[39m(sqlInjectionIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                          [31m^[39m
    [90m787| [39m      })[33m;[39m
    [90m788| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[20/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.js[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect arrow function pass-through wrapper
[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.ts[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.3: Unnecessary Database Adapter Detection[2m > [22mSimple Pass-Through Wrapper Detection (Requirement 3.3)[2m > [22mshould detect arrow function pass-through wrapper
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/database-pattern-analyzer.test.ts:[2m1007:38[22m[39m
    [90m1005| [39m          issue [33m=>[39m issue[33m.[39mtype [33m===[39m [32m'unnecessary-adapter'[39m
    [90m1006| [39m        )[33m;[39m
    [90m1007| [39m        [34mexpect[39m(adapterIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m1008| [39m      })[33m;[39m
    [90m1009| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[21/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.js[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect inconsistent error handling patterns in same function
[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.ts[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Error Handling (Requirement 3.2)[2m > [22mshould detect inconsistent error handling patterns in same function
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/database-pattern-analyzer.test.ts:[2m1594:43[22m[39m
    [90m1592| [39m                   issue.description.includes('Inconsistent error handâ€¦
    [90m1593| [39m        )[33m;[39m
    [90m1594| [39m        [34mexpect[39m(inconsistentIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                          [31m^[39m
    [90m1595| [39m      })[33m;[39m
    [90m1596| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[22/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.js[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect any type in destructured database results
[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.ts[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect any type in destructured database results
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/database-pattern-analyzer.test.ts:[2m1768:41[22m[39m
    [90m1766| [39m          issue [33m=>[39m issue[33m.[39mtype [33m===[39m [32m'type-safety'[39m
    [90m1767| [39m        )[33m;[39m
    [90m1768| [39m        [34mexpect[39m(typeSafetyIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                        [31m^[39m
    [90m1769| [39m      })[33m;[39m
    [90m1770| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[23/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.js[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect inconsistent entity type names
[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.ts[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect inconsistent entity type names
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/database-pattern-analyzer.test.ts:[2m1787:47[22m[39m
    [90m1785| [39m                   issue.description.includes('Inconsistent type usageâ€¦
    [90m1786| [39m        )[33m;[39m
    [90m1787| [39m        [34mexpect[39m(inconsistentTypeIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                              [31m^[39m
    [90m1788| [39m      })[33m;[39m
    [90m1789| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[24/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.js[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect type assertion to any
[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.ts[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Type Usage (Requirement 3.4)[2m > [22mshould detect type assertion to any
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/database-pattern-analyzer.test.ts:[2m1835:41[22m[39m
    [90m1833| [39m          issue [33m=>[39m issue[33m.[39mtype [33m===[39m [32m'type-safety'[39m
    [90m1834| [39m        )[33m;[39m
    [90m1835| [39m        [34mexpect[39m(typeSafetyIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                        [31m^[39m
    [90m1836| [39m      })[33m;[39m
    [90m1837| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[25/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.js[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect SQL injection with template literal in RPC
[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.ts[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mEdge Cases for Pattern Bypass (Requirement 3.5)[2m > [22mshould detect SQL injection with template literal in RPC
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/database-pattern-analyzer.test.ts:[2m1912:43[22m[39m
    [90m1910| [39m                   issue[33m.[39mdescription[33m.[39m[34mincludes[39m([32m'SQL injection'[39m)
    [90m1911| [39m        )[33m;[39m
    [90m1912| [39m        [34mexpect[39m(sqlInjectionIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                          [31m^[39m
    [90m1913| [39m        [34mexpect[39m(sqlInjectionIssues[[34m0[39m][33m.[39mseverity)[33m.[39m[34mtoBe[39m([32m'critical'[39m)[33m;[39m
    [90m1914| [39m      })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[26/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.js[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mComprehensive Integration Tests[2m > [22mshould handle a well-written database service with no issues
[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.ts[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mComprehensive Integration Tests[2m > [22mshould handle a well-written database service with no issues
[31m[1mAssertionError[22m: expected 1 to be +0 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 0[39m
[31m+ 1[39m

[36m [2mâ¯[22m tests/unit/analyzers/database-pattern-analyzer.test.ts:[2m2289:39[22m[39m
    [90m2287| [39m          i [33m=>[39m i[33m.[39mseverity [33m===[39m [32m'critical'[39m [33m||[39m i[33m.[39mseverity [33m===[39m [32m'high'[39m
    [90m2288| [39m        )[33m;[39m
    [90m2289| [39m        [34mexpect[39m(criticalIssues[33m.[39mlength)[33m.[39m[34mtoBe[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                      [31m^[39m
    [90m2290| [39m      })[33m;[39m
    [90m2291| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[27/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.js[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mComprehensive Integration Tests[2m > [22mshould provide comprehensive analysis for mixed quality code
[41m[1m FAIL [22m[49m tests/unit/analyzers/database-pattern-analyzer.test.ts[2m > [22mDatabasePatternAnalyzer[2m > [22mTask 6.5: Additional Edge Cases and Specific Examples[2m > [22mComprehensive Integration Tests[2m > [22mshould provide comprehensive analysis for mixed quality code
[31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

[36m [2mâ¯[22m tests/unit/analyzers/database-pattern-analyzer.test.ts:[2m2358:37[22m[39m
    [90m2356| [39m        
    [90m2357| [39m        [34mexpect[39m(hasErrorHandlingIssues)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m2358| [39m        [34mexpect[39m(hasTypeSafetyIssues)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m   | [39m                                    [31m^[39m
    [90m2359| [39m        [34mexpect[39m(hasAdapterIssues)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m2360| [39m        [34mexpect[39m(hasTypeConflictIssues)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[28/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/service-pattern-analyzer.test.js[2m > [22mServicePatternAnalyzer[2m > [22mBasic Functionality[2m > [22mshould track service dependencies
[41m[1m FAIL [22m[49m tests/unit/analyzers/service-pattern-analyzer.test.ts[2m > [22mServicePatternAnalyzer[2m > [22mBasic Functionality[2m > [22mshould track service dependencies
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/service-pattern-analyzer.test.ts:[2m108:35[22m[39m
    [90m106| [39m
    [90m107| [39m      [35mconst[39m dependencies [33m=[39m analyzer[33m.[39m[34mgetServiceDependencies[39m()[33m;[39m
    [90m108| [39m      [34mexpect[39m(dependencies[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                  [31m^[39m
    [90m109| [39m      
    [90m110| [39m      const depAtoB = dependencies.find(d => d.from === 'serviceA' && â€¦

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[29/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/service-pattern-analyzer.test.js[2m > [22mServicePatternAnalyzer[2m > [22mCircular Dependency Detection[2m > [22mshould detect simple circular dependency (A â†’ B â†’ A)
[41m[1m FAIL [22m[49m tests/unit/analyzers/service-pattern-analyzer.test.ts[2m > [22mServicePatternAnalyzer[2m > [22mCircular Dependency Detection[2m > [22mshould detect simple circular dependency (A â†’ B â†’ A)
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/service-pattern-analyzer.test.ts:[2m167:40[22m[39m
    [90m165| [39m      )[33m;[39m
    [90m166| [39m
    [90m167| [39m      [34mexpect[39m(circularDepIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                       [31m^[39m
    [90m168| [39m      [34mexpect[39m(circularDepIssues[[34m0[39m][33m.[39mseverity)[33m.[39m[34mtoBe[39m([32m'high'[39m)[33m;[39m
    [90m169| [39m      [34mexpect[39m(circularDepIssues[[34m0[39m][33m.[39mtype)[33m.[39m[34mtoBe[39m([32m'architectural'[39m)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[30/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/service-pattern-analyzer.test.js[2m > [22mServicePatternAnalyzer[2m > [22mCircular Dependency Detection[2m > [22mshould detect complex circular dependency (A â†’ B â†’ C â†’ A)
[41m[1m FAIL [22m[49m tests/unit/analyzers/service-pattern-analyzer.test.ts[2m > [22mServicePatternAnalyzer[2m > [22mCircular Dependency Detection[2m > [22mshould detect complex circular dependency (A â†’ B â†’ C â†’ A)
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m tests/unit/analyzers/service-pattern-analyzer.test.ts:[2m246:40[22m[39m
    [90m244| [39m      )[33m;[39m
    [90m245| [39m
    [90m246| [39m      [34mexpect[39m(circularDepIssues[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                       [31m^[39m
    [90m247| [39m      
    [90m248| [39m      [90m// Check that the cycle description includes all three services[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[31/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/analyzers/service-pattern-analyzer.test.js[2m > [22mServicePatternAnalyzer[2m > [22mIssue Detection[2m > [22mshould detect excessive service dependencies
[41m[1m FAIL [22m[49m tests/unit/analyzers/service-pattern-analyzer.test.ts[2m > [22mServicePatternAnalyzer[2m > [22mIssue Detection[2m > [22mshould detect excessive service dependencies
[31m[1mAssertionError[22m: expected undefined to be defined[39m
[36m [2mâ¯[22m tests/unit/analyzers/service-pattern-analyzer.test.ts:[2m369:34[22m[39m
    [90m367| [39m      )[33m;[39m
    [90m368| [39m
    [90m369| [39m      [34mexpect[39m(excessiveDepsIssue)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
    [90m   | [39m                                 [31m^[39m
    [90m370| [39m      [34mexpect[39m(excessiveDepsIssue[33m?.[39mseverity)[33m.[39m[34mtoBe[39m([32m'medium'[39m)[33m;[39m
    [90m371| [39m    })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[32/51]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/scanner/file-scanner.test.js[2m > [22mFileScannerImpl[2m > [22medge cases[2m > [22mshould handle maxDepth with deeply nested structures
[41m[1m FAIL [22m[49m tests/unit/scanner/file-scanner.test.ts[2m > [22mFileScannerImpl[2m > [22medge cases[2m > [22mshould handle maxDepth with deeply nested structures
[31m[1mAssertionError[22m: expected [ { â€¦(6) }, { â€¦(6) }, { â€¦(6) }, â€¦(2) ] to have a length of 6 but got 5[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 6[39m
[31m+ 5[39m

[36m [2mâ¯[22m tests/unit/scanner/file-scanner.test.ts:[2m592:21[22m[39m
    [90m590| [39m
    [90m591| [39m      [90m// Should find files at depth 0-5 (6 files total)[39m
    [90m592| [39m      [34mexpect[39m(files)[33m.[39m[34mtoHaveLength[39m([34m6[39m)[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m593| [39m      
    [90m594| [39m      [90m// Verify no files beyond depth 5[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[33/51]â¯[22m[39m


[2m Test Files [22m [1m[31m10 failed[39m[22m[2m | [22m[1m[32m14 passed[39m[22m[90m (24)[39m
[2m      Tests [22m [1m[31m51 failed[39m[22m[2m | [22m[1m[32m601 passed[39m[22m[90m (652)[39m
[2m   Start at [22m 19:30:36
[2m   Duration [22m 104.41s[2m (transform 4.79s, setup 0ms, collect 26.60s, tests 211.59s, environment 23ms, prepare 8.97s)[22m

